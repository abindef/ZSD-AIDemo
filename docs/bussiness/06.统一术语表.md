---
trigger: manual
---

# 统一术语表（Ubiquitous Language）

> 本文档是项目的统一术语表，所有角色和AI在输出时必须使用此处定义的术语，确保概念一致性。

## 维护规范

- **维护责任**：Domain Expert 负责术语定义，Architect 负责技术术语审核
- **更新流程**：新增术语需在此文档登记后方可在其他文档使用
- **引用方式**：其他文档使用 `[术语](glossary.md#术语锚点)` 格式引用

---

## 一、领域概念（Domain Concepts）

### 1.1 核心实体

| 术语 | 英文 | 定义 | 别名/易混淆项 |
|------|------|------|---------------|
| 应收单 | Receivable | 客户往来账，记录应向客户收取的款项 | 应收账款、AR |
| 应付单 | Payable | 供应商往来账，记录应向供应商支付的款项 | 应付账款、AP |
| 收款单 | Receipt | 客户实际付款的记录凭证 | 收款凭证 |
| 付款单 | Payment | 向供应商实际付款的记录凭证 | 付款凭证 |
| 认款单 | Claim | 收款与应收的匹配记录 | 核销单（不推荐） |
| 付款计划 | PaymentPlan | 应付款项的分期付款安排 | - |
| 批量付款 | BatchPayment | 多笔付款合并处理的操作 | 批付 |
| 盘点差异 | InventoryVariance | 库存盘点与账面数量的差异记录 | 盘盈盘亏 |

### 1.2 业务类型

| 术语 | 英文 | 定义 | 对比说明 |
|------|------|------|----------|
| 寄售 | Consignment | 不买断上游货物，待下游使用结算时再向上游买断 | 货物所有权归上游 |
| 经销 | Distribution | 买断上游货物，取得销售与处置权利 | 货物所有权归我方 |
| 总额法 | GrossMethod | 对货品形成实际控制，按下游全额付款记录收入 | 收入=全额 |
| 净额法 | NetMethod | 对货品未形成实际控制，按上下游差价记录收入 | 收入=差价 |

### 1.3 账期类型

| 术语 | 英文 | 定义 | 优先级 |
|------|------|------|--------|
| 预付账期 | Prepaid | 货物交付前支付的款项 | 1（最高） |
| 入库账期 | Receipt | 货物入库时产生的应付 | 2 |
| 销售账期 | Sales | 货物销售后产生的应收 | 3 |
| 回款账期 | Collection | 客户回款产生的收款 | 4（最低） |

### 1.4 认款类型

| 术语 | 英文 | 定义 | 互斥规则 |
|------|------|------|----------|
| 发票认款 | InvoiceClaim | 认款到销售发票 | 三种类型互斥 |
| 订单认款 | OrderClaim | 认款到销售订单 | 三种类型互斥 |
| 初始应收认款 | InitialClaim | 认款到系统初始化应收 | 三种类型互斥 |

---

## 二、业务流程（Business Processes）

### 2.1 应收流程

```
销售出库 → 生成应收单 → 客户付款 → 生成收款单 → 收款认领 → 核销完成
                ↓                              ↓
           状态：待收款                    状态：已核销
```

### 2.2 应付流程

```
采购入库 → 生成应付单 → 创建付款计划 → 批量付款审批 → 生成付款单 → 冲销完成
                ↓                                        ↓
           状态：暂估/待付款                         状态：已核销
```

### 2.3 冲销条件（四同原则）

| 条件 | 说明 |
|------|------|
| 同项目 | 应收/应付必须属于同一项目 |
| 同业务单元 | 必须属于同一业务单元 |
| 同供应商/客户 | 必须是同一往来单位 |
| 同公司 | 必须属于同一法人公司 |

---

## 三、技术术语（Technical Terms）

### 3.1 架构概念

| 术语 | 定义 | 所属层 |
|------|------|--------|
| 聚合根 | Aggregate Root，聚合的入口实体，保证聚合内一致性 | Domain |
| 值对象 | Value Object，无标识的不可变对象 | Domain |
| 领域事件 | Domain Event，领域中发生的业务事件 | Domain |
| 领域服务 | Domain Service，无状态的领域逻辑 | Domain |
| 应用服务 | Application Service，用例编排层 | Application |
| 仓储 | Repository，聚合的持久化接口 | Domain(接口)/Infrastructure(实现) |

### 3.2 微服务标识

| 服务 | AppId | 说明 |
|------|-------|------|
| 财务后端 | `finance-backend` | 内部服务调用 |
| 财务WebApi | `finance-webapi` | 对外能力接口 |
| 销售管理 | `sell-backend` | 上游：销售订单 |
| 采购管理 | `purchase-backend` | 上游：采购订单 |
| 库存管理 | `inventory-backend` | 上游：出入库单 |

### 3.3 金额精度规范

| 类型 | 精度 | 示例 |
|------|------|------|
| 含税金额 | 2位小数 | 100.00 |
| 不含税金额 | 10位小数 | 88.4955752212 |
| 税率 | 整数百分比 | 13 (表示13%) |

---

## 四、状态定义（State Definitions）

### 4.1 应收单状态

```
[待收款] ──收款认领──▶ [部分收款] ──全额核销──▶ [已核销]
    │                      │
    └──────全额核销─────────┘
```

### 4.2 应付单状态

```
[暂估] ──发票匹配──▶ [待付款] ──部分付款──▶ [部分付款] ──全额付款──▶ [已核销]
```

---

## 五、术语变更记录

| 日期 | 术语 | 变更类型 | 变更说明 | 责任人 |
|------|------|----------|----------|--------|
| 2024-01-01 | - | 初始化 | 创建术语表 | Domain Expert |
